# Architecture and Data Model

## Overview

This project models an accommodation booking system using MongoDB, based on real Airbnb listing data for Porto and Lisbon. The architecture separates static listing data from dynamic booking-related data to support both analytical and transactional-style queries.

---

## Collections

### 1. listings

Imported directly from the datasets.

**Purpose:**  
Represents accommodation listings available for booking.

**Key Fields (subset):**
- `_id` (ObjectId, auto-generated by MongoDB)
- `id` (Number, dataset identifier)
- `name`
- `host_id`, `host_name`
- `neighbourhood`
- `latitude`, `longitude`
- `room_type`
- `price` (String, e.g. "â‚¬50")
- `accommodates`, `bedrooms`, `beds`
- `minimum_nights`
- `number_of_reviews`
- `review_scores_rating`
- `availability_365`

---

### 2. users

Represents guests using the platform.

**Purpose:**  
Supports reservation ownership and user-level analytics.

**Key Fields:**
- `_id`
- `name`
- `email`
- `createdAt`

---

### 3. reservations

Represents booking records created by users.

**Purpose:**  
Manages availability, booking history, and revenue analytics.

**Key Fields:**
- `_id`
- `listingId` -> references `listings._id`
- `guestId` -> references `users._id`
- `dateFrom`
- `dateTo`
- `totalPrice`
- `status`

---

### 4. reviews

Represents feedback from guests after completed reservations.

**Purpose:**  
Ensures reviews are tied to real bookings.

**Key Fields:**
- `_id`
- `reservationId` -> references `reservations._id`
- `rating`
- `comment`
- `createdAt`

---

## Relationships

- `reservations.listingId -> listings.id`
- `reservations.guestId -> users._id`
- `reviews.reservationId -> reservations._id`

---

## Design Rationale

- Listings are kept as a separate collection due to their size and read-heavy usage.
- Reservations are modeled independently to support date-range queries and frequent updates.
- References were preferred over embedding to avoid document duplication and uncontrolled growth.